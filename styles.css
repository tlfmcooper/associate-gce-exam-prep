/* App styles - Bright modern dark theme */
:root{
  --blue:#60a5fa;
  --blue-bright:#93c5fd;
  --blue-dark:#3b82f6;
  --green:#34d399;
  --red:#f87171;
  --yellow:#fbbf24;
  --muted:#d1d5db;
  --light:#f9fafb;
  --dark-bg:#1e293b;
  --dark-surface:#334155;
  --sidebar-width:280px;
  --banner-height:64px;
}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;margin:0;background:linear-gradient(to bottom right,#1e293b,#1e40af,#1e293b);min-height:100vh;font-size:15px;color:#f9fafb}
.app-layout{display:flex;gap:20px;box-sizing:border-box;background:transparent}
.app-layout{display:flex;box-sizing:border-box;background:transparent;min-height:100vh;}
.sidebar{
  box-sizing:border-box;
  width:var(--sidebar-width);
  background:rgba(51,65,85,0.95);
  border:1px solid rgba(100,116,139,0.4);
  border-radius:12px;
  padding:16px;
  overflow-y:auto;
  /* fixed under the header so it remains visible while scrolling */
  position:fixed;
  top:calc(var(--banner-height) + 16px);
  left:16px;
  height:calc(100vh - var(--banner-height) - 48px);
  backdrop-filter:blur(12px);
  box-shadow:0 10px 40px rgba(0,0,0,0.5);
}
.sidebar h3{margin:0;color:#f9fafb;font-size:18px;font-weight:700;margin-bottom:16px}
.small-progress-track{width:100%;height:6px;background:#e9ecef;border-radius:4px;overflow:hidden}
.small-progress-fill{height:100%;background:var(--blue);transition:width .3s ease}
.timer-box{margin-top:12px;padding:10px;border-radius:6px;background:var(--light);text-align:center}
.timer-text{font-size:1.1em;font-weight:600;margin-top:6px}
.navigator-grid{
  display:grid;
  /* let the grid auto-fill as many fixed-size items per row as will fit */
  grid-template-columns:repeat(auto-fill, minmax(44px, 1fr));
  gap:8px;
  margin-top:10px;
  align-items:center;
}
.nav-item{
  width:100%;
  height:40px;
  border-radius:10px;
  border:2px solid rgba(100,116,139,0.5);
  background:rgba(71,85,105,0.6);
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  color:#e2e8f0;
  font-size:0.95rem;
  transition:all 0.15s ease;
}
.nav-item:hover{background:rgba(100,116,139,0.7);border-color:rgba(147,197,253,0.6)}
.nav-item.answered{background:rgba(96,165,250,0.25);border-color:rgba(96,165,250,0.8);color:#bfdbfe;font-weight:700}
.nav-item.flagged{box-shadow:0 0 0 3px rgba(251,191,36,0.4);border-color:rgba(251,191,36,0.9)}
.nav-item.current{background:linear-gradient(135deg,rgba(96,165,250,0.95),rgba(147,197,253,0.95));color:#fff;border-color:transparent;box-shadow:0 4px 14px rgba(96,165,250,0.5);font-weight:800}

/* make the navigator horizontally scrollable only when necessary */
.sidebar{overflow:auto}
.submit-all-btn{width:100%;padding:10px 12px;background:linear-gradient(135deg,rgba(239,68,68,0.9),rgba(248,113,113,0.9));color:#fff;border:none;border-radius:8px;cursor:pointer;font-weight:600;box-shadow:0 4px 12px rgba(239,68,68,0.3);transition:all 0.15s}
.submit-all-btn:hover{background:linear-gradient(135deg,rgba(239,68,68,1),rgba(248,113,113,1));box-shadow:0 6px 16px rgba(239,68,68,0.4)}
.submit-all-btn:hover{background:rgba(239,68,68,1);box-shadow:0 6px 16px rgba(239,68,68,0.4)}
.main-area{flex:1;transition:margin-left .18s ease}
.header{background:var(--blue);color:#fff;padding:20px;text-align:center;border-radius:6px}
.title{margin:0;font-size:1.5em}
.filter-row{display:flex;gap:15px;padding:15px 30px;background:#f8f9fa;border-bottom:1px solid #dadce0}
.filter-row select{flex:1;padding:10px;font-size:.9em;border-radius:4px;border:1px solid #dadce0}
.progress-bar-track{width:100%;background:#e0e0e0;height:8px;border-radius:6px;overflow:hidden}
.progress-bar-fill{height:100%;background:var(--green);transition:width .3s ease}
.question-area{padding:24px;background:rgba(31,41,55,0.8);border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,0.3);backdrop-filter:blur(12px);border:1px solid rgba(75,85,99,0.3)}
.question-header{display:flex;justify-content:space-between;color:#9ca3af;margin-bottom:20px;font-size:0.95rem;font-weight:600}
.question-text{font-size:1.05rem;line-height:1.6;color:#f3f4f6;margin-bottom:20px;font-weight:500}
.options{display:flex;flex-direction:column;gap:15px}
.option{padding:14px 16px;border:2px solid rgba(100,116,139,0.5);border-radius:10px;cursor:pointer;transition:all 0.15s ease;color:#e2e8f0;background:rgba(71,85,105,0.5);font-size:0.98rem;line-height:1.5}
.option:hover{background:rgba(100,116,139,0.6);border-color:rgba(147,197,253,0.5)}
.option.selected{border-color:rgba(96,165,250,0.9);background:rgba(96,165,250,0.2);color:#bfdbfe;font-weight:600}
.option.correct{background:rgba(52,211,153,0.2);border-color:rgba(52,211,153,0.9);color:#86efac;font-weight:600}
.option.incorrect{background:rgba(248,113,113,0.2);border-color:rgba(248,113,113,0.9);color:#fca5a5;font-weight:600}
.explanation{margin-top:24px;padding:20px;border-top:2px solid rgba(100,116,139,0.4);background:rgba(71,85,105,0.4);border-radius:8px;margin-top:20px}
.explanation h3{margin-top:0;color:#bfdbfe;font-size:1.1rem;font-weight:700;margin-bottom:12px}
.explanation p{color:#e2e8f0;line-height:1.6}
.navigation{display:flex;justify-content:space-between;align-items:center;margin-top:30px;border-top:1px solid #dadce0;padding-top:20px}
.nav-btn{padding:10px 18px;font-size:0.95rem;cursor:pointer;border:2px solid rgba(100,116,139,0.6);border-radius:8px;background:rgba(71,85,105,0.7);color:#e2e8f0;font-weight:600;transition:all 0.15s}
.nav-btn:hover{background:rgba(100,116,139,0.8);border-color:rgba(147,197,253,0.6)}
.submit-btn{padding:10px 24px;font-size:0.95rem;border:none;border-radius:8px;background:linear-gradient(135deg,rgba(96,165,250,0.95),rgba(147,197,253,0.95));color:#fff;cursor:pointer;font-weight:600;transition:all 0.15s;box-shadow:0 4px 12px rgba(96,165,250,0.4)}
.submit-btn:hover{background:linear-gradient(135deg,rgba(96,165,250,1),rgba(147,197,253,1));box-shadow:0 6px 16px rgba(96,165,250,0.5)}
.disabled{cursor:not-allowed;opacity:.5}
/* Modern flag button design matching reference HTML */
.flag-button{
  padding:10px 20px;
  border-radius:10px;
  border:2px solid rgba(75,85,99,0.5);
  background:rgba(55,65,81,0.6);
  cursor:pointer;
  color:#d1d5db;
  font-weight:600;
  font-size:14px;
  transition:all 0.2s ease;
  display:inline-flex;
  align-items:center;
  gap:6px;
}
.flag-button:hover{
  background:rgba(75,85,99,0.7);
  border-color:rgba(96,165,250,0.5);
}
.flag-button.flagged{
  border-color:rgba(251,191,36,0.9);
  background:linear-gradient(135deg,rgba(245,158,11,0.9),rgba(251,191,36,0.9));
  color:#fff;
  box-shadow:0 4px 12px rgba(251,191,36,0.4);
  font-weight:700;
}

/* Domain badge */
.domain-badge{
  display:inline-block;
  padding:8px 18px;
  background:linear-gradient(135deg,rgba(59,130,246,0.9),rgba(96,165,250,0.9));
  color:#fff;
  border-radius:20px;
  font-size:14px;
  font-weight:700;
  box-shadow:0 4px 12px rgba(59,130,246,0.3);
}
.summary-area{padding:20px;background:#fff;border-radius:8px}
.score-box{width:160px;text-align:center;padding:12px;border-radius:8px;background:#f1f4f8;border:1px solid #e6eefc}
.score-large{font-size:2.2em;font-weight:700}
.pass{color:#1e8e3e;font-weight:700}
.fail{color:#d93025;font-weight:700}
.domain-row{display:flex;align-items:center;gap:12px;margin-bottom:10px}
.domain-bar-track{height:10px;background:#eee;border-radius:6px;overflow:hidden}
.domain-bar-fill{height:100%;background:var(--blue);transition:width .3s ease}
.summary-actions{margin-top:12px;display:flex;gap:8px}
.csv-btn{padding:8px 12px;background:#4285F4;color:#fff;border:none;border-radius:6px;cursor:pointer}
.print-btn{padding:8px 12px;background:#6c757d;color:#fff;border:none;border-radius:6px;cursor:pointer}
@media (max-width:900px){.navigator-grid{grid-template-columns:repeat(5,1fr)}}

/* Exam banner (bright modern design) */
.exam-banner{
  /* use left/right instead of 100vw to avoid horizontal overflow when a scrollbar is present */
  position:fixed;
  top:0;
  left:0;
  right:0;
  box-sizing:border-box;
  padding:14px 28px;
  color:#f9fafb;
  background:rgba(17,24,39,0.95);
  backdrop-filter:blur(12px);
  border-bottom:1px solid rgba(75,85,99,0.3);
  box-shadow:0 4px 20px rgba(0,0,0,0.3);
  z-index:1100;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.exam-banner > div{width:100%;display:flex;justify-content:space-between;align-items:center}
.fixed-banner{position:fixed;top:0;left:0;right:0;z-index:100;box-shadow:0 2px 8px rgba(0,0,0,0.08);}
.exam-banner .left{font-weight:700}
.exam-banner .controls{display:flex;gap:10px;align-items:center;flex-wrap:nowrap}
.exam-banner .controls .csv-btn{background:rgba(59,130,246,0.2);padding:8px 16px;border-radius:8px;white-space:nowrap;border:1px solid rgba(59,130,246,0.3);color:#93c5fd;font-weight:600;transition:all 0.15s}
.exam-banner .controls .csv-btn:hover{background:rgba(59,130,246,0.3);border-color:rgba(59,130,246,0.5);color:#fff}

@media (max-width:700px){
  .exam-banner{padding:12px;font-size:14px}
  .hero-card{padding:16px}
}

/* (header-controls uses the same positioning, keep styles in .header-controls) */
.header-controls{position:relative;right:auto;top:auto;display:flex;gap:8px}
.header-controls .csv-btn{padding:8px 12px;border-radius:8px;background:#4b8cff;color:#fff;border:none}
.header-controls .csv-btn:hover{opacity:0.95}

@media (max-width:900px){
  .header-controls{position:static;margin-top:12px;justify-content:center}
}


/* Make sure the fixed banner doesn't cover content: give the app layout a top padding matching banner height */
.app-layout{padding-top:80px}
.main-area{padding:20px;transition:margin-left .18s ease}

/* Landing / hero tweaks: modern dark gradient design */
.landing-hero{box-sizing:border-box;padding:60px 24px 48px;min-height:100vh;display:flex;align-items:center;justify-content:center;text-align:center;background:linear-gradient(to bottom right,#111827,#1e3a8a,#111827)}
.landing-hero h1{font-size:clamp(32px,5vw,56px);line-height:1.1;margin:0;color:#f3f4f6;font-weight:800}
.landing-hero p{font-size:clamp(16px,2.5vw,20px);color:#d1d5db;margin-top:12px}
.landing-hero button{min-width:160px;padding:12px 24px;border-radius:10px;font-weight:700;font-size:16px;transition:all 0.2s}
.landing-hero .hero-panel{width:min(920px,94%);margin:0 auto}
.landing-hero .hero-actions{display:flex;gap:16px;justify-content:center;flex-wrap:wrap;margin-top:24px}

/* ensure header control buttons don't wrap oddly on narrow screens */
@media (max-width:900px){
  .exam-banner{padding:10px 12px}
  .exam-banner .controls{justify-content:center}
  .app-layout{padding-top:88px}
  /* small screens: show a centered modal dialog instead of a full-page panel */
  .sidebar{
    display:block; /* rendered but visually hidden until opened */
    position:fixed;
    /* sit below the banner with a small gap */
    top:calc(var(--banner-height) + 12px);
    left:50%;
    /* center horizontally and slightly scale when closed for a subtle animation */
    transform:translateX(-50%) scale(0.98);
    width:min(92%, 360px);
    max-height:calc(80vh - var(--banner-height));
    transition:transform .22s ease, opacity .18s ease;
    z-index:1200;
    box-shadow:0 12px 40px rgba(2,6,23,0.35);
    border-radius:12px;
    overflow:auto;
    /* start hidden to allow fade/scale in */
    opacity:0;
    pointer-events:none;
    padding:12px;
  }
  /* open state - center, fully visible and interactive */
  .sidebar.open{transform:translateX(-50%) scale(1);opacity:1;pointer-events:auto}
  .sidebar-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.35);z-index:1100;opacity:0;pointer-events:none;transition:opacity .18s}
  .sidebar-backdrop.open{opacity:1;pointer-events:auto}
  .main-area{margin-left:0 !important;padding:12px}
  /* stack banner content vertically on narrow screens */
  .exam-banner > div{flex-direction:column;align-items:flex-start;gap:8px}
  .exam-banner .controls{width:100%;justify-content:flex-end}
}
/* Numeric entry overlay shown while typing digits */
.numeric-overlay{position:fixed;right:28px;top:120px;background:rgba(0,0,0,0.7);color:#fff;padding:10px 14px;border-radius:8px;font-weight:700;font-size:1.1rem;z-index:1200}


/* Hero header styles (new design) */
.hero{
  width:100vw;
  min-width:100vw;
  margin-left:50%;
  transform:translateX(-50%);
  background: linear-gradient(180deg,#0b3b94 0%, #1f4aa6 40%, #2b59c1 100%);
  color: #fff;
  padding: 48px 0 36px;
  border-radius: 0 0 18px 18px;
  margin-bottom: 18px;
}
.hero-inner{max-width:980px;margin:0 auto;display:flex;flex-direction:column;align-items:center;gap:18px;position:relative}
.hero-title{font-size:34px;font-weight:800;line-height:1.02;text-align:center}
.hero-sub{font-size:18px;opacity:0.95}
.hero-meta{font-size:15px;opacity:0.9}
.hero-card{width:100%;max-width:760px;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.08);padding:22px;border-radius:12px;box-shadow:0 8px 30px rgba(14,30,60,0.25);text-align:left}
.hero-card h3{margin:0;font-size:20px;color:#fff}
.hero-card p{color:rgba(255,255,255,0.9);margin-top:8px}
.primary-cta{display:inline-block;margin-top:14px;padding:14px 26px;border-radius:10px;background:#2f6ff6;color:#fff;border:none;font-weight:700;cursor:pointer}
.header-controls{position:absolute;right:24px;top:18px;display:flex;gap:8px}

@media (max-width:900px){
  .hero-title{font-size:28px}
  .hero{padding:28px 12px}
}

/* mobile-specific option sizing for better tap targets */
@media (max-width:900px){
  .option{padding:14px 14px;border-radius:10px;font-size:1rem}
  .nav-item{height:36px;font-size:0.9rem}
  .hero-title{font-weight:700}
}

/* Animation for mobile bottom-sheet */
@keyframes slideUp {
  from { transform: translateY(100%); }
  to { transform: translateY(0); }
}

/* Mobile in-page navigator - bottom sheet */
.mobile-navigator-sheet {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1250;
  pointer-events: none;
}

.mobile-navigator-sheet .sheet-panel {
  width: 100%;
  height: 240px;
  background: rgba(31,41,55,0.98);
  backdrop-filter: blur(12px);
  border-radius: 16px 16px 0 0;
  box-shadow: 0 -4px 30px rgba(0,0,0,0.5);
  border-top: 1px solid rgba(75,85,99,0.5);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  animation: slideUp 200ms ease-out;
  pointer-events: auto;
}

.sheet-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 18px;
  border-bottom: 1px solid rgba(75,85,99,0.3);
  background: rgba(55,65,81,0.5);
}

.sheet-header strong {
  font-size: 17px;
  font-weight: 700;
  color: #f3f4f6;
}

.sheet-close {
  border: none;
  background: transparent;
  font-size: 26px;
  padding: 4px 8px;
  cursor: pointer;
  color: #9ca3af;
  transition: color 0.15s;
}
.sheet-close:hover {
  color: #f3f4f6;
}

.nav-grid {
  padding: 14px;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 10px;
  overflow-y: auto;
  flex: 1;
  background: rgba(17,24,39,0.3);
}

.sheet-footer {
  padding: 14px 18px;
  border-top: 1px solid rgba(75,85,99,0.3);
  background: rgba(55,65,81,0.5);
}

.sheet-footer button {
  width: 100%;
  background: rgba(239,68,68,0.9);
  color: #fff;
  border: none;
  padding: 12px;
  border-radius: 8px;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(239,68,68,0.3);
  transition: all 0.15s;
}
.sheet-footer button:hover {
  background: rgba(239,68,68,1);
  box-shadow: 0 6px 16px rgba(239,68,68,0.4);
}

/* Floating button to open navigator on mobile */
.mobile-nav-fab {
  position: fixed;
  right: 16px;
  bottom: 20px;
  width: 44px;
  height: 44px;
  border-radius: 50%;
  background: rgba(59,130,246,0.9);
  backdrop-filter: blur(8px);
  color: #fff;
  border: 2px solid rgba(147,197,253,0.3);
  font-size: 20px;
  box-shadow: 0 6px 20px rgba(59,130,246,0.4);
  cursor: pointer;
  z-index: 1100;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
}
.mobile-nav-fab:hover {
  background: rgba(59,130,246,1);
  box-shadow: 0 8px 24px rgba(59,130,246,0.5);
  transform: scale(1.05);
}

/* Hide mobile navigator on desktop */
@media (min-width: 901px) {
  .mobile-navigator-sheet,
  .mobile-nav-fab {
    display: none;
  }
}
